<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>라이브러리</title>
    <link rel="stylesheet" href="../css/library.css">

    <script>
                function loadHTML(file)
        {
            var rawFile = new XMLHttpRequest();
            rawFile.open("GET", file, false);
            rawFile.onreadystatechange = function ()
            {
                if(rawFile.readyState === 4)
                {
                    if(rawFile.status === 200 || rawFile.status == 0)
                    {
                        var allText = rawFile.responseText;
                        document.write(allText);
                    }
                }
            }
            rawFile.send(null);
        }

        // 전역으로 게임 데이터 정의
        const games = {
            "A Dance of Fire and Ice": {
                title: "A Dance of Fire and Ice",
                image: "../assets/images/A_DANCE_OF.jpg",
                space: "1.39GB",
                lastPlayed: "3월 28일",
                playtime: "3.3시간",
                achievements: "6/47",
                updateText: "새로운 엑스트라 세계: Party of Spirits!",
                friendText: "친구 1명이 이전에 플레이했습니다",
                friendImage: "../assets/images/friend.png"
            },
            "Harry Potter": {
                title: "Harry Potter: Quidditch Champions",
                image: "../assets/images/hogwarts.jpg",
                space: "2.5GB",
                lastPlayed: "4월 10일",
                playtime: "10시간",
                achievements: "20/50",
                updateText: "퀴디치 챔피언에서 새로운 마법의 세계를 경험하세요!",
                friendText: "친구 2명이 이전에 플레이했습니다",
                friendImage: "../assets/images/friend2.png"
            }
        };

        // 게임 세부 정보를 불러오는 함수
        function showGameDetails(gameKey) {
            // 해당 게임의 데이터를 게임 상세 화면에 반영
            const game = games[gameKey];
            document.querySelector('.game-header img').src = game.image;
            document.querySelector('.game-header h1').textContent = game.title;
            document.querySelector('.game-header p:nth-of-type(1)').textContent = `필요한 공간: ${game.space} | 마지막 플레이: ${game.lastPlayed} | 플레이 시간: ${game.playtime}`;
            document.querySelector('.game-header p:nth-of-type(2)').textContent = `도전 과제: ${game.achievements}`;
            document.querySelector('.update p').textContent = game.updateText;
            document.querySelector('.friend-activity p').textContent = game.friendText;
            document.querySelector('.friend-activity img').src = game.friendImage;

            // 홈 화면 숨기기
            document.getElementById('home-section').style.display = 'none';

            // 게임 세부 정보 섹션 표시
            document.getElementById('game-details').style.display = 'block';
        }

        // 게임 세부 정보 숨기는 함수
        function hideGameDetails() {
            document.getElementById('game-details').style.display = 'none';
            document.getElementById('home-section').style.display = 'block';
        }

    </script>
</head>
<body>

    <header>
        <script>loadHTML("./header.html")</script>
    </header>



    <div class="main-container">
        <!-- 게임 리스트 -->
        <aside class="game-list">
            <!-- 홈 버튼 추가 -->
            <button onclick="goHome()" style="margin-bottom: 20px; padding: 10px; background-color: #66c0f4; color: white; border: none; border-radius: 5px; cursor: pointer;">Home</button>
            
            <div class="search-container">
                <div class="tag-dropdown">
                    <select>
                        <option value="all">게임 및 소프트웨어</option>
                        <option value="games">게임</option>
                        <option value="software">소프트웨어</option>
                    </select>
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="게임 검색...">
                </div>
            </div>
            <ul>
                <!-- 게임 클릭 시 showGameDetails 함수 호출 -->
                <li onclick="showGameDetails('A Dance of Fire and Ice')">
                    <img src="../assets/images/A_DANCE_OF.jpg" alt="게임 이미지"> 불과 얼음의 춤
                </li>
                <li onclick="showGameDetails('Harry Potter')">
                    <img src="../assets/images/hogwarts.jpg" alt="게임 이미지"> 해리 포터: 퀴디치 챔피언
                </li>
            </ul>
        </aside>
    
        <!-- 홈 화면 (기본 화면) -->
        <section id="home-section">
            <h2>새로운 업데이트</h2>
            <div class="updates-container">
                <div class="update">
                    <img src="../assets/images/DAVE_THE_DIVER.jpg" alt="업데이트 이미지">
                </div>
                <div class="update">
                    <img src="../assets/images/update.png" alt="업데이트 이미지">
                </div>
            </div>

            <h2>최근 게임</h2>
            <div class="recent-games-container">
                <div class="recent-game">
                    <img src="../assets/images/recent_game.png" alt="최근 게임 이미지">
                </div>
                <div class="recent-game">
                    <img src="../assets/images/A_DANCE_OF.jpg" alt="최근 게임 이미지">
                </div>
            </div>
            <h2>모든 게임</h2>
            <div class="game-grid">
                <div class="game-tile">
                    <img src="../assets/images/shogun_Showdown2.jpg" alt="게임 1">
                </div>
                <div class="game-tile">
                    <img src="../assets/images/game2.jpg" alt="게임 2">
                </div>
                <div class="game-tile">
                    <img src="../assets/images/game3.jpg" alt="게임 3">
                </div>
                <!-- 여기에 게임 타일을 계속 추가하세요 -->
            </div>
        </section>


     <!-- 게임 세부 정보 (초기에는 숨겨진 상태) -->
     <section class="game-details" id="game-details" style="display: none;">
        <div class="game-header">
            <img src="../assets/images/A_DANCE_OF.jpg" alt="게임 배너" class="game-banner"> 
            <h1>Game Title</h1>
            <button class="install-btn">설치</button>
            <p>필요한 공간: 1.39GB | 마지막 플레이: 3월 28일 | 플레이 시간: 3.3시간</p>
            <p>도전 과제: 6/47</p>
        </div>

        <div class="tabs">
            <button>상점 페이지</button>
            <button>DLC</button>
            <button>커뮤니티 허브</button>
            <button>토론</button>
            <button>가이드</button>
            <button>창작마당</button>
            <button>지원</button>
        </div>
        <div class="activity">
            <h2>활동</h2>
            <p>친구들에게 이 게임에 대해 이야기해 주세요...</p>
            <div class="update">
                <h3>주요 업데이트</h3>
                <p>새로운 엑스트라 세계: Party of Spirits!</p>
            </div>
        </div>
        <div class="friend-activity">
            <h3>플레이한 친구들</h3>
            <p>친구 1명이 이전에 플레이했습니다</p>
            <img src="../assets/images/friend.png" alt="친구 이미지">
        </div>
    </section>
        <!-- <footer style="position: absolute; bottom: 0px;">
            <script>loadHTML("./footer.html")</script>
        </footer> -->
    </div>

</body>
</html>
